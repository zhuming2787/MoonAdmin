import {
  Layout,
  Menu,
  Avatar,
  Space,
  Typography,
  Divider,
  Dropdown,
} from "antd";
import {
  DashboardOutlined,
  UserOutlined,
  MenuUnfoldOutlined,
  MenuFoldOutlined,
  LogoutOutlined,
  BookOutlined,
  TagOutlined,
  FileTextOutlined,
  MessageOutlined,
  DownOutlined,
  DownCircleOutlined,
} from "@ant-design/icons";
import { useState } from "react";
import { Outlet, useNavigate, useLocation } from "react-router-dom";
import styles from "./Layout.module.css";
import myAvatar from "../../assets/images/Avatar.png";

const { Header, Sider, Content } = Layout;
const { Title } = Typography;

const MainLayout = () => {
  const [collapsed, setCollapsed] = useState(false); // 侧边栏折叠状态
  const navigate = useNavigate();
  const location = useLocation(); // 获取当前路由

  // 侧边栏菜单数据
  const menuItems = [
    { key: "/dashboard", icon: <DashboardOutlined />, label: "仪表盘" },
    {
      key: "/products",
      icon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="#000"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 0H0.6875H14.4375H15.125V0.6875V14.4375V15.125H14.4375H0.6875H0V14.4375V0.6875V0ZM1.375 1.375V6.875H6.875V1.375H1.375ZM8.25 1.375V6.875H13.75V1.375H8.25ZM1.375 8.25V13.75H6.875V8.25H1.375ZM8.25 8.25V13.75H13.75V8.25H8.25Z"
            fill="#4c4c4c"
          />
        </svg>
      ),
      label: "商品",
    },
    {
      key: "/favorites",
      icon: (
        <svg
          width="20"
          height="17"
          viewBox="0 0 20 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M5.15625 0C6.81771 0 8.30729 0.673177 9.625 2.01953C10.9427 0.673177 12.4323 0 14.0938 0C15.526 0 16.7435 0.515625 17.7461 1.54688C18.7487 2.54948 19.25 3.7526 19.25 5.15625C19.25 5.72917 19.1068 6.31641 18.8203 6.91797C18.5339 7.49089 18.2474 7.92057 17.9609 8.20703L17.5312 8.59375L10.1406 16.0703L9.625 16.5859L9.10938 16.0703L1.71875 8.59375C1.43229 8.33594 1.14583 8.00651 0.859375 7.60547C0.286458 6.74609 0 5.92969 0 5.15625C0 3.7526 0.501302 2.54948 1.50391 1.54688C2.50651 0.515625 3.72396 0 5.15625 0ZM5.15625 1.375C4.125 1.375 3.23698 1.7474 2.49219 2.49219C1.7474 3.23698 1.375 4.125 1.375 5.15625C1.375 5.64323 1.57552 6.20182 1.97656 6.83203L2.66406 7.64844L9.625 14.6094L16.5859 7.64844C17.4453 6.70312 17.875 5.8724 17.875 5.15625C17.875 4.125 17.5026 3.23698 16.7578 2.49219C16.013 1.7474 15.125 1.375 14.0938 1.375C13.4922 1.375 12.862 1.54688 12.2031 1.89062C11.5443 2.20573 11.0286 2.53516 10.6562 2.87891L10.1406 3.35156L9.625 3.95312L9.10938 3.35156C8.96615 3.20833 8.76562 3.03646 8.50781 2.83594C8.27865 2.60677 7.80599 2.30599 7.08984 1.93359C6.40234 1.5612 5.75781 1.375 5.15625 1.375Z"
            fill="#202224"
          />
        </svg>
      ),
      label: "喜欢",
    },
    {
      key: "/inbox",
      icon: (
        <svg
          width="20"
          height="18"
          viewBox="0 0 20 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 0H0.6875H13.0625H13.75V0.6875V10.3125V11H13.0625H7.13281L3.86719 13.5781L2.75 14.5234V13.0625V11H0.6875H0V10.3125V0.6875V0ZM1.375 1.375V9.625H3.4375H4.125V10.3125V11.6016L6.44531 9.79688L6.61719 9.625H6.875H12.375V1.375H1.375ZM15.125 2.75H19.25V13.75H16.5V17.2734L12.1172 13.75H5.75781L7.47656 12.375H12.6328L15.125 14.3516V12.375H17.875V4.125H15.125V2.75Z"
            fill="#202224"
          />
        </svg>
      ),
      label: "收件箱",
    },
    {
      key: "/orderlist",
      icon: (
        <svg
          width="17"
          height="16"
          viewBox="0 0 17 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4.125 0L5.15625 1.03125L2.40625 3.78125L1.89062 4.21094L1.375 3.78125L0 2.40625L1.03125 1.375L1.89062 2.27734L4.125 0ZM7.39062 1.20312H16.3281V2.57812H7.39062V1.20312ZM4.125 5.5L5.15625 6.53125L2.40625 9.28125L1.89062 9.71094L1.375 9.28125L0 7.90625L1.03125 6.875L1.89062 7.77734L4.125 5.5ZM7.39062 6.70312H16.3281V8.07812H7.39062V6.70312ZM4.125 11L5.15625 12.0312L2.40625 14.7812L1.89062 15.2109L1.375 14.7812L0 13.4062L1.03125 12.375L1.89062 13.2773L4.125 11ZM7.39062 12.2031H16.3281V13.5781H7.39062V12.2031Z"
            fill="black"
          />
        </svg>
      ),
      label: "商品列表",
    },
    {
      key: "/productstock",
      icon: (
        <svg
          width="14"
          height="17"
          viewBox="0 0 14 17"
          fill="black"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 0H0.6875H13.0625H13.75V0.6875V15.8125V16.5H13.0625H0.6875H0V15.8125V0.6875V0ZM1.375 1.375V4.8125H12.375V1.375H1.375ZM1.375 6.1875V10.3125H12.375V6.1875H1.375ZM1.375 11.6875V15.125H12.375V11.6875H1.375Z"
            fill="black"
          />
        </svg>
      ),
      label: "库存",
    },
  ];

  const backItems = [
    { key: "/user", icon: <UserOutlined />, label: "用户管理" },
    { key: "/category", icon: <BookOutlined />, label: "分类管理" },
    { key: "/tag", icon: <TagOutlined />, label: "标签管理" },
    { key: "/article", icon: <FileTextOutlined />, label: "文章管理" },
    { key: "/comment", icon: <MessageOutlined />, label: "评论管理" },
  ];

  const pageItems = [
    {
      key: "/pricing",
      icon: (
        <svg
          width="17"
          height="16"
          viewBox="0 0 17 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M5.5 0C6.41667 0 7.27604 0.558594 8.07812 1.67578C8.07812 1.70443 8.13542 1.80469 8.25 1.97656C8.36458 1.80469 8.42188 1.70443 8.42188 1.67578C9.22396 0.558594 10.0833 0 11 0C11.5729 0 12.0599 0.200521 12.4609 0.601562C12.862 1.0026 13.0625 1.48958 13.0625 2.0625C13.0625 2.29167 13.0195 2.52083 12.9336 2.75H15.8125H16.5V3.4375V6.1875V6.875H15.8125V15.125V15.8125H15.125H1.375H0.6875V15.125V6.875H0V6.1875V3.4375V2.75H0.6875H3.56641C3.48047 2.52083 3.4375 2.29167 3.4375 2.0625C3.4375 1.48958 3.63802 1.0026 4.03906 0.601562C4.4401 0.200521 4.92708 0 5.5 0ZM5.5 1.375C5.04167 1.375 4.8125 1.60417 4.8125 2.0625C4.8125 2.52083 5.04167 2.75 5.5 2.75H7.08984C7.0612 2.72135 7.03255 2.67839 7.00391 2.62109C6.97526 2.5638 6.94661 2.50651 6.91797 2.44922C6.40234 1.73307 5.92969 1.375 5.5 1.375ZM11 1.375C10.5703 1.375 10.0977 1.73307 9.58203 2.44922C9.55339 2.50651 9.52474 2.54948 9.49609 2.57812C9.49609 2.57812 9.48177 2.60677 9.45312 2.66406C9.45312 2.69271 9.4388 2.72135 9.41016 2.75H11C11.4583 2.75 11.6875 2.52083 11.6875 2.0625C11.6875 1.60417 11.4583 1.375 11 1.375ZM1.375 4.125V5.5H7.5625V4.8125H8.9375V5.5H15.125V4.125H8.25H7.21875H1.375ZM2.0625 6.875V14.4375H7.5625V7.5625H8.9375V14.4375H14.4375V6.875H2.0625Z"
            fill="#202224"
          />
        </svg>
      ),
      label: "定价",
    },
    {
      key: "/calender",
      icon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M2.75 0H4.125V0.6875H11V0H12.375V0.6875H14.4375H15.125V1.375V15.125V15.8125H14.4375H0.6875H0V15.125V1.375V0.6875H0.6875H2.75V0ZM1.375 2.0625V3.4375H13.75V2.0625H12.375V2.75H11V2.0625H4.125V2.75H2.75V2.0625H1.375ZM1.375 4.8125V14.4375H13.75V4.8125H1.375ZM5.5 6.1875H6.875V7.5625H5.5V6.1875ZM8.25 6.1875H9.625V7.5625H8.25V6.1875ZM11 6.1875H12.375V7.5625H11V6.1875ZM2.75 8.9375H4.125V10.3125H2.75V8.9375ZM5.5 8.9375H6.875V10.3125H5.5V8.9375ZM8.25 8.9375H9.625V10.3125H8.25V8.9375ZM11 8.9375H12.375V10.3125H11V8.9375ZM2.75 11.6875H4.125V13.0625H2.75V11.6875ZM5.5 11.6875H6.875V13.0625H5.5V11.6875ZM8.25 11.6875H9.625V13.0625H8.25V11.6875Z"
            fill="#202224"
          />
        </svg>
      ),
      label: "日历",
    },
    {
      key: "/todo",
      icon: (
        <svg
          width="14"
          height="18"
          viewBox="0 0 14 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M5.07031 1.375C5.44271 0.458333 6.04427 0 6.875 0C7.70573 0 8.30729 0.458333 8.67969 1.375H10.3125H11H13.0625H13.75V2.0625V16.5V17.1875H13.0625H0.6875H0V16.5V2.0625V1.375H0.6875H2.75H3.4375H5.07031ZM7.34766 1.58984C7.23307 1.44661 7.07552 1.375 6.875 1.375C6.67448 1.375 6.5026 1.44661 6.35938 1.58984C6.24479 1.70443 6.1875 1.86198 6.1875 2.0625V2.75H5.5H4.125V4.125H9.625V2.75H8.25H7.5625V2.0625C7.5625 1.86198 7.49089 1.70443 7.34766 1.58984ZM1.375 2.75V15.8125H12.375V2.75H11V4.8125V5.5H10.3125H3.4375H2.75V4.8125V2.75H1.375Z"
            fill="#202224"
          />
        </svg>
      ),
      label: "ToDo",
    },
    {
      key: "/contact",
      icon: (
        <svg
          width="21"
          height="13"
          viewBox="0 0 21 13"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M2.57812 1.20312C3.38021 0.401042 4.35417 0 5.5 0C6.64583 0 7.61979 0.401042 8.42188 1.20312C9.22396 2.00521 9.625 2.97917 9.625 4.125C9.625 5.52865 9.05208 6.64583 7.90625 7.47656C8.96615 7.99219 9.76823 8.73698 10.3125 9.71094C10.8568 8.73698 11.6589 7.99219 12.7188 7.47656C11.5729 6.64583 11 5.52865 11 4.125C11 2.97917 11.401 2.00521 12.2031 1.20312C13.0052 0.401042 13.9792 0 15.125 0C16.2708 0 17.2448 0.401042 18.0469 1.20312C18.849 2.00521 19.25 2.97917 19.25 4.125C19.25 5.52865 18.6771 6.64583 17.5312 7.47656C18.4766 7.9349 19.2214 8.60807 19.7656 9.49609C20.3385 10.3555 20.625 11.3151 20.625 12.375H19.25C19.25 11.2292 18.849 10.2552 18.0469 9.45312C17.2448 8.65104 16.2708 8.25 15.125 8.25C13.9792 8.25 13.0052 8.65104 12.2031 9.45312C11.401 10.2552 11 11.2292 11 12.375H9.625C9.625 11.2292 9.22396 10.2552 8.42188 9.45312C7.61979 8.65104 6.64583 8.25 5.5 8.25C4.35417 8.25 3.38021 8.65104 2.57812 9.45312C1.77604 10.2552 1.375 11.2292 1.375 12.375H0C0 11.3151 0.272135 10.3555 0.816406 9.49609C1.38932 8.60807 2.14844 7.9349 3.09375 7.47656C1.94792 6.64583 1.375 5.52865 1.375 4.125C1.375 2.97917 1.77604 2.00521 2.57812 1.20312ZM7.43359 2.19141C6.91797 1.64714 6.27344 1.375 5.5 1.375C4.72656 1.375 4.06771 1.64714 3.52344 2.19141C3.00781 2.70703 2.75 3.35156 2.75 4.125C2.75 4.89844 3.00781 5.55729 3.52344 6.10156C4.06771 6.61719 4.72656 6.875 5.5 6.875C6.27344 6.875 6.91797 6.61719 7.43359 6.10156C7.97786 5.55729 8.25 4.89844 8.25 4.125C8.25 3.35156 7.97786 2.70703 7.43359 2.19141ZM17.0586 2.19141C16.543 1.64714 15.8984 1.375 15.125 1.375C14.3516 1.375 13.6927 1.64714 13.1484 2.19141C12.6328 2.70703 12.375 3.35156 12.375 4.125C12.375 4.89844 12.6328 5.55729 13.1484 6.10156C13.6927 6.61719 14.3516 6.875 15.125 6.875C15.8984 6.875 16.543 6.61719 17.0586 6.10156C17.6029 5.55729 17.875 4.89844 17.875 4.125C17.875 3.35156 17.6029 2.70703 17.0586 2.19141Z"
            fill="#202224"
          />
        </svg>
      ),
      label: "联系",
    },
    {
      key: "/invoice",
      icon: (
        <svg
          width="20"
          height="15"
          viewBox="0 0 20 15"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M17.832 0L18.3477 2.92188H16.9297L16.7148 1.58984L8.9375 2.92188H0.773438L17.832 0ZM0 3.60938H0.6875H1.71875H18.5625H19.25V4.29688V13.9219V14.6094H18.5625H0.6875H0V13.9219V5.32812V4.29688V3.60938ZM3.39453 4.98438C3.42318 5.1276 3.4375 5.24219 3.4375 5.32812C3.4375 5.8151 3.26562 6.23047 2.92188 6.57422C2.60677 6.88932 2.20573 7.04688 1.71875 7.04688C1.63281 7.04688 1.51823 7.03255 1.375 7.00391V11.2148C1.51823 11.1862 1.63281 11.1719 1.71875 11.1719C2.20573 11.1719 2.60677 11.3438 2.92188 11.6875C3.26562 12.0026 3.4375 12.4036 3.4375 12.8906C3.4375 12.9766 3.42318 13.0911 3.39453 13.2344H15.8555C15.8268 13.0911 15.8125 12.9766 15.8125 12.8906C15.8125 12.4036 15.9701 12.0026 16.2852 11.6875C16.6289 11.3438 17.0443 11.1719 17.5312 11.1719C17.6172 11.1719 17.7318 11.1862 17.875 11.2148V7.00391C17.7318 7.03255 17.6172 7.04688 17.5312 7.04688C17.0443 7.04688 16.6289 6.88932 16.2852 6.57422C15.9701 6.23047 15.8125 5.8151 15.8125 5.32812C15.8125 5.24219 15.8268 5.1276 15.8555 4.98438H3.39453ZM7.17578 6.70312C7.86328 6.01562 8.67969 5.67188 9.625 5.67188C10.5703 5.67188 11.3724 6.01562 12.0312 6.70312C12.7188 7.36198 13.0625 8.16406 13.0625 9.10938C13.0625 10.0547 12.7188 10.8711 12.0312 11.5586C11.3724 12.2174 10.5703 12.5469 9.625 12.5469C8.67969 12.5469 7.86328 12.2174 7.17578 11.5586C6.51693 10.8711 6.1875 10.0547 6.1875 9.10938C6.1875 8.16406 6.51693 7.36198 7.17578 6.70312ZM11.0859 7.64844C10.6849 7.2474 10.1979 7.04688 9.625 7.04688C9.05208 7.04688 8.5651 7.2474 8.16406 7.64844C7.76302 8.04948 7.5625 8.53646 7.5625 9.10938C7.5625 9.68229 7.76302 10.1693 8.16406 10.5703C8.5651 10.9714 9.05208 11.1719 9.625 11.1719C10.1979 11.1719 10.6849 10.9714 11.0859 10.5703C11.487 10.1693 11.6875 9.68229 11.6875 9.10938C11.6875 8.53646 11.487 8.04948 11.0859 7.64844Z"
            fill="#202224"
          />
        </svg>
      ),
      label: "发票",
    },
    {
      key: "/uielement",
      icon: (
        <svg
          width="18"
          height="17"
          viewBox="0 0 18 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12.375 0H13.0625H17.1875H17.875V0.6875V15.8125V16.5H17.1875H13.0625H12.375V15.8125V0.6875V0ZM13.75 1.375V15.125H16.5V1.375H13.75ZM0 4.125H0.6875H4.8125H5.5V4.8125V15.8125V16.5H4.8125H0.6875H0V15.8125V4.8125V4.125ZM1.375 5.5V15.125H4.125V5.5H1.375ZM6.1875 8.25H6.875H11H11.6875V8.9375V15.8125V16.5H11H6.875H6.1875V15.8125V8.9375V8.25ZM7.5625 9.625V15.125H10.3125V9.625H7.5625Z"
            fill="#202224"
          />
        </svg>
      ),
      label: "组件库",
    },
    {
      key: "/team",
      icon: (
        <svg
          width="14"
          height="16"
          viewBox="0 0 14 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M3.48047 1.41797C4.42578 0.472656 5.55729 0 6.875 0C8.19271 0 9.32422 0.472656 10.2695 1.41797C11.2148 2.36328 11.6875 3.49479 11.6875 4.8125C11.6875 5.61458 11.487 6.3737 11.0859 7.08984C10.7135 7.80599 10.1979 8.37891 9.53906 8.80859C10.7995 9.35286 11.8164 10.1979 12.5898 11.3438C13.3633 12.4609 13.75 13.7214 13.75 15.125H12.375C12.375 13.6068 11.8307 12.3177 10.7422 11.2578C9.68229 10.1693 8.39323 9.625 6.875 9.625C5.35677 9.625 4.05339 10.1693 2.96484 11.2578C1.90495 12.3177 1.375 13.6068 1.375 15.125H0C0 13.7214 0.386719 12.4609 1.16016 11.3438C1.93359 10.1979 2.95052 9.35286 4.21094 8.80859C3.55208 8.37891 3.02214 7.80599 2.62109 7.08984C2.2487 6.3737 2.0625 5.61458 2.0625 4.8125C2.0625 3.49479 2.53516 2.36328 3.48047 1.41797ZM9.28125 2.40625C8.6224 1.71875 7.82031 1.375 6.875 1.375C5.92969 1.375 5.11328 1.71875 4.42578 2.40625C3.76693 3.0651 3.4375 3.86719 3.4375 4.8125C3.4375 5.75781 3.76693 6.57422 4.42578 7.26172C5.11328 7.92057 5.92969 8.25 6.875 8.25C7.82031 8.25 8.6224 7.92057 9.28125 7.26172C9.96875 6.57422 10.3125 5.75781 10.3125 4.8125C10.3125 3.86719 9.96875 3.0651 9.28125 2.40625Z"
            fill="#202224"
          />
        </svg>
      ),
      label: "团队",
    },
    {
      key: "/table",
      icon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 0H0.6875H14.4375H15.125V0.6875V14.4375V15.125H14.4375H0.6875H0V14.4375V0.6875V0ZM1.375 1.375V4.8125H4.8125V1.375H1.375ZM6.1875 1.375V4.8125H8.9375V1.375H6.1875ZM10.3125 1.375V4.8125H13.75V1.375H10.3125ZM1.375 6.1875V8.9375H4.8125V6.1875H1.375ZM6.1875 6.1875V8.9375H8.9375V6.1875H6.1875ZM10.3125 6.1875V8.9375H13.75V6.1875H10.3125ZM1.375 10.3125V13.75H4.8125V10.3125H1.375ZM6.1875 10.3125V13.75H8.9375V10.3125H6.1875ZM10.3125 10.3125V13.75H13.75V10.3125H10.3125Z"
            fill="black"
          />
        </svg>
      ),
      label: "列表",
    },
  ];

  const setItems = [
    {
      key: "/setting",
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.74609 0H7.30469H10.0547H10.6133L10.7422 0.558594L11.1289 2.57812C11.7591 2.83594 12.3464 3.19401 12.8906 3.65234L14.9102 2.96484L15.4688 2.79297L15.7266 3.26562L17.1016 5.67188L17.3594 6.14453L16.9727 6.53125L15.4258 7.86328C15.5117 8.37891 15.5547 8.73698 15.5547 8.9375C15.5547 9.13802 15.5117 9.49609 15.4258 10.0117L16.9727 11.3438L17.3594 11.7305L17.1016 12.2031L15.7266 14.6094L15.4688 15.082L14.9102 14.9102L12.8906 14.2227C12.3464 14.681 11.7591 15.0391 11.1289 15.2969L10.7422 17.3164L10.6133 17.875H10.0547H7.30469H6.74609L6.61719 17.3164L6.23047 15.2969C5.60026 15.0391 5.01302 14.681 4.46875 14.2227L2.44922 14.9102L1.89062 15.082L1.63281 14.6094L0.257812 12.2031L0 11.7305L0.386719 11.3438L1.93359 10.0117C1.84766 9.49609 1.80469 9.13802 1.80469 8.9375C1.80469 8.73698 1.84766 8.37891 1.93359 7.86328L0.386719 6.53125L0 6.14453L0.257812 5.67188L1.63281 3.26562L1.89062 2.79297L2.44922 2.96484L4.46875 3.65234C5.01302 3.19401 5.60026 2.83594 6.23047 2.57812L6.61719 0.558594L6.74609 0ZM7.86328 1.375L7.51953 3.17969L7.43359 3.56641L7.04688 3.69531C6.27344 3.95312 5.58594 4.35417 4.98438 4.89844L4.64062 5.15625L4.29688 5.07031L2.53516 4.46875L1.71875 5.84375L3.09375 7.04688L3.4375 7.30469L3.30859 7.73438C3.22266 8.10677 3.17969 8.50781 3.17969 8.9375C3.17969 9.36719 3.22266 9.76823 3.30859 10.1406L3.4375 10.5703L3.09375 10.8281L1.71875 12.0312L2.53516 13.4062L4.29688 12.8047L4.64062 12.7188L4.98438 12.9766C5.58594 13.5208 6.27344 13.9219 7.04688 14.1797L7.43359 14.3086L7.51953 14.6953L7.86328 16.5H9.49609L9.83984 14.6953L9.92578 14.3086L10.3125 14.1797C11.0859 13.9219 11.7734 13.5208 12.375 12.9766L12.7188 12.7188L13.0625 12.8047L14.8242 13.4062L15.6406 12.0312L14.2656 10.8281L13.9648 10.5703L14.0508 10.1406C14.1367 9.76823 14.1797 9.36719 14.1797 8.9375C14.1797 8.50781 14.1367 8.10677 14.0508 7.73438L13.9219 7.30469L14.2656 7.04688L15.6406 5.84375L14.8242 4.46875L13.0625 5.07031L12.7188 5.15625L12.375 4.89844C11.7734 4.35417 11.0859 3.95312 10.3125 3.69531L9.92578 3.56641L9.83984 3.17969L9.49609 1.375H7.86328ZM6.23047 6.53125C6.91797 5.84375 7.73438 5.5 8.67969 5.5C9.625 5.5 10.4271 5.84375 11.0859 6.53125C11.7734 7.1901 12.1172 7.99219 12.1172 8.9375C12.1172 9.88281 11.7734 10.6992 11.0859 11.3867C10.4271 12.0456 9.625 12.375 8.67969 12.375C7.73438 12.375 6.91797 12.0456 6.23047 11.3867C5.57161 10.6992 5.24219 9.88281 5.24219 8.9375C5.24219 7.99219 5.57161 7.1901 6.23047 6.53125ZM10.1406 7.47656C9.73958 7.07552 9.2526 6.875 8.67969 6.875C8.10677 6.875 7.61979 7.07552 7.21875 7.47656C6.81771 7.8776 6.61719 8.36458 6.61719 8.9375C6.61719 9.51042 6.81771 9.9974 7.21875 10.3984C7.61979 10.7995 8.10677 11 8.67969 11C9.2526 11 9.73958 10.7995 10.1406 10.3984C10.5417 9.9974 10.7422 9.51042 10.7422 8.9375C10.7422 8.36458 10.5417 7.8776 10.1406 7.47656Z"
            fill="#202224"
          />
        </svg>
      ),
      label: "设置",
    },
    {
      key: "/logout",
      icon: (
        <svg
          width="17"
          height="17"
          viewBox="0 0 17 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.5625 0H8.9375V8.25H7.5625V0ZM5.5 0.472656V1.97656C4.26823 2.49219 3.26562 3.32292 2.49219 4.46875C1.7474 5.61458 1.375 6.875 1.375 8.25C1.375 10.1406 2.04818 11.7591 3.39453 13.1055C4.74089 14.4518 6.35938 15.125 8.25 15.125C10.1406 15.125 11.7591 14.4518 13.1055 13.1055C14.4518 11.7591 15.125 10.1406 15.125 8.25C15.125 6.875 14.7383 5.61458 13.9648 4.46875C13.2201 3.32292 12.2318 2.49219 11 1.97656V0.472656C12.6328 1.04557 13.9505 2.04818 14.9531 3.48047C15.9844 4.88411 16.5 6.47396 16.5 8.25C16.5 10.513 15.6836 12.4609 14.0508 14.0938C12.4466 15.6979 10.513 16.5 8.25 16.5C5.98698 16.5 4.03906 15.6979 2.40625 14.0938C0.802083 12.4609 0 10.513 0 8.25C0 6.47396 0.501302 4.88411 1.50391 3.48047C2.53516 2.04818 3.86719 1.04557 5.5 0.472656Z"
            fill="#202224"
          />
        </svg>
      ),
      label: "退出",
    },
  ];

  const LangItems = [
    { key: "中文", label: "中文" },
    { key: "English", label: "English" },
  ];

  // 顶部用户下拉菜单
  const userMenu = [
    { key: "logout", icon: <LogoutOutlined />, label: "退出登录" },
  ];

  // 菜单点击跳转
  const handleMenuClick = (e) => {
    navigate(e.key);
  };

  // 退出登录
  const handleUserMenuClick = (e) => {
    if (e.key === "logout") {
      navigate("/login");
    }
  };

  return (
    <Layout style={{ height: "100vh" }}>
      <Sider
        trigger={null}
        collapsible
        collapsed={collapsed}
        className={styles.sider}
        style={{
          height: "100vh",
          width: "240px",
          overflow: "auto",
          scrollBehavior: "smooth",
        }}
        theme="light"
      >
        <div
          style={{
            display: "flex",
            alignItems: "center",
            margin: "16px",
            color: "#fff",
          }}
        >
          <Title level={4} style={{ color: "#3f3f3f", margin: "auto" }}>
            {collapsed ? (
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                onClick={() => setCollapsed(false)}
                style={{ cursor: "pointer" }}
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M12 6H20V8H12V6ZM4 16H12V18H4V16ZM20 11H4V13H20V11Z"
                  fill="#202224"
                />
                <path
                  d="M20 6H20.25V5.75H20V6ZM12 6V5.75H11.75V6H12ZM20 8V8.25H20.25V8H20ZM12 8H11.75V8.25H12V8ZM12 16H12.25V15.75H12V16ZM4 16V15.75H3.75V16H4ZM12 18V18.25H12.25V18H12ZM4 18H3.75V18.25H4V18ZM4 11V10.75H3.75V11H4ZM20 11H20.25V10.75H20V11ZM4 13H3.75V13.25H4V13ZM20 13V13.25H20.25V13H20ZM20 5.75H12V6.25H20V5.75ZM20.25 8V6H19.75V8H20.25ZM12 8.25H20V7.75H12V8.25ZM11.75 6V8H12.25V6H11.75ZM12 15.75H4V16.25H12V15.75ZM12.25 18V16H11.75V18H12.25ZM4 18.25H12V17.75H4V18.25ZM3.75 16V18H4.25V16H3.75ZM4 11.25H20V10.75H4V11.25ZM4.25 13V11H3.75V13H4.25ZM20 12.75H4V13.25H20V12.75ZM19.75 11V13H20.25V11H19.75Z"
                  fill="white"
                />
              </svg>
            ) : (
              <>
                <span style={{ color: "#4880FF", fontWeight: "bold" }}>
                  Bright
                </span>
                <span style={{ color: "#202224", fontWeight: "bold" }}>
                  Moon
                </span>
              </>
            )}
          </Title>
        </div>
        <Menu
          theme="light"
          mode="inline"
          styles={{
            dc: {
              background: "#000",
              color: "fff",
            },
          }}
          className={styles.customMenu}
          selectedKeys={[location.pathname]}
          style={{
            padding: "0px",
            border: "0px",
            margin: "0px",
          }}
          items={menuItems}
          onClick={handleMenuClick}
        />
        <Divider size="small" />
        <p
          style={{
            color: "#8c8c8c",
            fontWeight: "bold",
            position: "relative",
            left: "25px",
          }}
        >
          PAGES
        </p>
        <Menu
          theme="light"
          mode="inline"
          styles={{
            dc: {
              background: "#000",
              color: "fff",
            },
          }}
          className={styles.customMenu}
          selectedKeys={[location.pathname]}
          style={{
            padding: "0px",
            border: "0px",
            margin: "0px",
          }}
          items={pageItems}
          onClick={handleMenuClick}
        />
        <Divider size="small" />

        <Menu
          theme="light"
          mode="inline"
          styles={{
            dc: {
              background: "#000",
              color: "fff",
            },
          }}
          className={styles.customMenu}
          selectedKeys={[location.pathname]}
          style={{
            padding: "0px",
            border: "0px",
            margin: "0px",
          }}
          items={backItems}
          onClick={handleMenuClick}
        />
        <Divider size="small" />
        <Menu
          theme="light"
          mode="inline"
          styles={{
            dc: {
              background: "#000",
              color: "fff",
            },
          }}
          className={styles.customMenu}
          selectedKeys={[location.pathname]}
          style={{
            padding: "0px",
            border: "0px",
            margin: "0px",
          }}
          items={setItems}
          onClick={handleMenuClick}
        />
      </Sider>

      <Layout>
        <Header
          style={{
            display: "flex",
            justifyContent: "space-between",
            alignItems: "center",
            padding: "0 24px",
            background: "#fff",
            boxShadow: "0 1px 4px rgba(0,0,0,0.1)",
            height: 70,
            lineHeight: "64px",
          }}
        >
          <div
            style={{
              display: "flex",
              justifyContent: "space-between",
              gap: "25px",
            }}
          >
            <div>
              {collapsed ? (
                <MenuUnfoldOutlined style={{ visibility: "hidden" }} />
              ) : (
                <MenuFoldOutlined onClick={() => setCollapsed(true)} />
              )}
            </div>

            {/* 搜索框 */}
            <div className={styles.search}>
              <div className={styles.placeholder}></div>
              <input
                type="text"
                className={styles.search__input}
                placeholder="Search..."
              />
              <button className={styles.search__button}>
                <svg
                  className={styles.search__icon}
                  aria-hidden="true"
                  viewBox="0 0 24 24"
                >
                  <g>
                    <path d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"></path>
                  </g>
                </svg>
              </button>
            </div>
          </div>

          <div
            style={{
              display: "flex",
              justifyContent: "space-between",
              alignItems: "center",
              gap: "25px",
            }}
          >
            {/* 通知 */}
            <svg
              width="24"
              height="26"
              viewBox="0 0 24 26"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              style={{ cursor: "pointer" }}
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M10.0277 0C7.73472 0 5.80843 1.72411 5.55522 4.00306L4.5 13.5H1.5C0.671573 13.5 0 14.1716 0 15V16.5C0 17.3284 0.671573 18 1.5 18H22.5C23.3284 18 24 17.3284 24 16.5V15C24 14.1716 23.3284 13.5 22.5 13.5H19.5L18.4448 4.00306C18.1916 1.72411 16.2653 0 13.9723 0H10.0277Z"
                fill="#4880FF"
              />
              <rect
                opacity="0.3"
                x="9"
                y="19.5"
                width="6"
                height="6"
                rx="2.25"
                fill="#FF0000"
              />
            </svg>

            {/* 国际化,选择下拉框 */}
            <Dropdown
              menu={{
                items: LangItems,
                selectable: true,
                defaultSelectedKeys: ["3"],
              }}
            >
              <Typography.Link>
                <Space>
                  中文
                  <DownOutlined />
                </Space>
              </Typography.Link>
            </Dropdown>

            <div
              style={{
                display: "flex",
                alignItems: "center",
                gap: "25px",
              }}
            >
              <Avatar
                style={{ height: "44px", width: "44px" }}
                src={myAvatar}
              />
              <div
                style={{
                  display: "flex",
                  justifyContent: "center",
                  flexDirection: "column",
                  height: "70px",
                  lineHeight: "16px",
                  fontSize: "14px",
                }}
              >
                <span
                  style={{
                    fontWeight: "bold",
                    color: "#404040",
                  }}
                >
                  用户名
                </span>
                <span style={{ color: "#565656" }}>身份</span>
              </div>
            </div>
            <Dropdown menu={{ items: userMenu, onClick: handleUserMenuClick }}>
              <DownCircleOutlined width="1px" />
            </Dropdown>
          </div>
        </Header>

        <Content
          style={{
            height: "calc(100vh - 70px)",
            overflow: "auto",
            padding: "25px",
            background: "#f5f6fa",
            boxSizing: "border-box",
            border: "1px solid #e5e5e5",
          }}
        >
          <Outlet />
        </Content>
      </Layout>
    </Layout>
  );
};

export default MainLayout;
